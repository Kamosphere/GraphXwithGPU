# GraphXwithGPU

This project is a demo of spark-based graph processing system. 

The purpose of this project is to fully utilize the computing ability of emerging hardware and to accelerate heavy computation tasks such graph processing for distributed system, as well as to achieve well-behaved workload balancing and task scheduling for GPU processing kernel by using managers built in distributed system.

## System Requirement

A suitable C++14 compiler is necessary (such as clang, g++-5 and so on)

Also, you still need a cmake with version newer than 3.9 to compile it easily, but it's no matter whether you use cmake or not.

CUDA is needed for GPU version

Spark 2.4.3 and Scala 2.11.12 is recommanded for compability. 

## Config

This project includes a simple script for UNIX-like system to compile automatically. Just run the autoBuild.sh in {project_path}

./cpp_native/autoBuild.sh
before running the scala application

## Usage

Take ShortestPath algorithm for example:

After compiling cpp code, deploy the jar file and cpp code and run like this:

 spark-submit --class edu.ustc.nodb.PregelGPU.Example.SSSP.SSSPTest \
 --master "(master-url)" \
 --conf "(other config)" \
 --driver-library-path="(cpp code path)" \
 "(jar file path)" "(partition amount or GPU amount)"
 
When executing, you should make sure that there is a file called "testGraph.txt" in the same directory where jar file locates. This file can be generated by executing util_RandGraphGen by passing proper parameters.

see more information at https://github.com/thoh-testarossa/Graph_Algo

## Todo List

Executing cost reduce

Skipping useless steps
